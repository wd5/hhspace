BEGIN;
DROP TABLE `discography_singergroupablum`;
DROP TABLE `discography_trackgroupablum`;
DROP TABLE `discography_singeralbum`;
DROP TABLE `discography_groupalbum`;
CREATE TABLE `discography_groupalbum` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `name` varchar(150) NOT NULL,
    `description` longtext NOT NULL,
    `image` varchar(100) NOT NULL,
    `date_creation` date NOT NULL,
    `date_update` date NOT NULL,
    `group_id` integer NOT NULL
)
;
ALTER TABLE `discography_groupalbum` ADD CONSTRAINT `group_id_refs_id_54c6be57` FOREIGN KEY (`group_id`) REFERENCES `account_group` (`id`);
CREATE TABLE `discography_singeralbum` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `name` varchar(150) NOT NULL,
    `description` longtext NOT NULL,
    `image` varchar(100) NOT NULL,
    `date_creation` date NOT NULL,
    `date_update` date NOT NULL,
    `singer_id` integer NOT NULL
)
;
ALTER TABLE `discography_singeralbum` ADD CONSTRAINT `singer_id_refs_customuser_ptr_id_7c414469` FOREIGN KEY (`singer_id`) REFERENCES `account_singer` (`customuser_ptr_id`);
CREATE TABLE `discography_trackgroupablum` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `name` varchar(150) NOT NULL,
    `description` longtext NOT NULL,
    `duration` varchar(10) NOT NULL,
    `album_id` integer NOT NULL
)
;
ALTER TABLE `discography_trackgroupablum` ADD CONSTRAINT `album_id_refs_id_66cc77bd` FOREIGN KEY (`album_id`) REFERENCES `discography_groupalbum` (`id`);
CREATE TABLE `discography_singergroupablum` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `name` varchar(150) NOT NULL,
    `description` longtext NOT NULL,
    `duration` varchar(10) NOT NULL,
    `album_id` integer NOT NULL
)
;
ALTER TABLE `discography_singergroupablum` ADD CONSTRAINT `album_id_refs_id_13c9c3dd` FOREIGN KEY (`album_id`) REFERENCES `discography_singeralbum` (`id`);
CREATE INDEX `discography_groupalbum_425ae3c4` ON `discography_groupalbum` (`group_id`);
CREATE INDEX `discography_singeralbum_29a27876` ON `discography_singeralbum` (`singer_id`);
CREATE INDEX `discography_trackgroupablum_1293c648` ON `discography_trackgroupablum` (`album_id`);
CREATE INDEX `discography_singergroupablum_1293c648` ON `discography_singergroupablum` (`album_id`);
COMMIT;
